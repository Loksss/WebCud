<section id="postt">
    <div class="col-8">
        <form action="" id="formdata" method="post">
          <div class="form-group">
            <input type="hidden" name="id" id="" value="{{id}}">
            <label for="">TÃ­tulo de la noticia</label>
            <input type="text" class="form-control" name="titulo" id="" aria-describedby="helpId" placeholder=""
              value="{{titulo}}">
           </div>
          <div class="form-group">
            <label for="">Descripcion de la Noticia</label>
            <input type="text" class="form-control" name="descripcion" id="" aria-describedby="helpId" placeholder=""
              value="{{descripcion}}">
 
          </div>

          <button type="submit" id="updateinfo" class="btn btn-primary">Registrar Noticia</button>
 
        </form>
  
  </div>
</section>

<script type="module">
    var formdata = document.getElementById("formdata");
    formdata.addEventListener("submit", (e) => {
      var data = formToJSON(formdata.elements);
      console.log(data);
      e.preventDefault();
      var misCabeceras = new Headers();
      fetch("/noticia", {
        method: "POST",
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      }).then(
        response => response.text()// if the response is a JSON object
      ).then(
        success => {
          alert("Datos Enviados!")
        }
      )
      return false;
    });
  
  </script>